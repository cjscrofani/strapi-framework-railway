# Railway-specific environment variables
# Copy this file to .env.railway and update the values

# Environment
NODE_ENV=production
RAILWAY_ENVIRONMENT=production

# Server Configuration
HOST=0.0.0.0
PORT=1337

# Database (Railway PostgreSQL)
DATABASE_URL=postgresql://username:password@host:port/database
POSTGRES_DB=strapi_railway
POSTGRES_USER=strapi
POSTGRES_PASSWORD=your_secure_password

# Redis (Railway Redis)
REDIS_URL=redis://default:password@host:port
REDIS_PASSWORD=your_redis_password

# Strapi Configuration
JWT_SECRET=your_jwt_secret_key
API_TOKEN_SALT=your_api_token_salt
ADMIN_JWT_SECRET=your_admin_jwt_secret
TRANSFER_TOKEN_SALT=your_transfer_token_salt
APP_KEYS=key1,key2,key3,key4

# CORS Configuration
CORS_ORIGIN=https://yourdomain.com,https://www.yourdomain.com
CORS_CREDENTIALS=true

# Email Services
SENDGRID_API_KEY=SG.your_sendgrid_api_key
SENDGRID_FROM_EMAIL=noreply@yourdomain.com
SENDGRID_FROM_NAME=Your Company

MAILCHIMP_API_KEY=your_mailchimp_api_key
MAILCHIMP_SERVER=us1
MAILCHIMP_DEFAULT_AUDIENCE_ID=your_audience_id

# Storage Configuration
STORAGE_PROVIDER=railway-volumes
UPLOAD_DIR=/app/public/uploads
RAILWAY_VOLUME_MOUNT_PATH=/app/public/uploads
RAILWAY_VOLUME_SIZE=1GB
MAX_FILE_SIZE=52428800

# Security
SECURITY_HELMET=true
SECURITY_CSP=true

# Rate Limiting
RATE_LIMIT_WINDOW=900000
RATE_LIMIT_MAX=100

# Database Connection Pooling
DB_POOL_MIN=2
DB_POOL_MAX=20
DB_POOL_IDLE=10000
DB_ACQUIRE_TIMEOUT=60000
DB_CREATE_TIMEOUT=30000
DB_DESTROY_TIMEOUT=5000
DB_REAP_INTERVAL=1000

# Redis Configuration
REDIS_DB=0
REDIS_KEY_PREFIX=strapi:
REDIS_CONNECT_TIMEOUT=10000
REDIS_MAX_RETRIES=3
REDIS_RETRY_DELAY=100

# Monitoring & Health Checks
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_PATH=/health
HEALTH_CHECK_INTERVAL=30000
HEALTH_CHECK_TIMEOUT=5000

# Metrics
METRICS_ENABLED=true
METRICS_PATH=/metrics
METRICS_DEFAULT=true

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_TRANSPORTS=console,railway
LOG_FILE=/app/logs/app.log
LOG_FILE_MAX_SIZE=10485760
LOG_FILE_MAX_FILES=5

# Error Tracking (Sentry)
SENTRY_DSN=https://your_sentry_dsn@sentry.io/project_id
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_ENVIRONMENT=production

# Railway-specific variables (automatically set by Railway)
RAILWAY_PROJECT_ID=$RAILWAY_PROJECT_ID
RAILWAY_SERVICE_ID=$RAILWAY_SERVICE_ID
RAILWAY_ENVIRONMENT_ID=$RAILWAY_ENVIRONMENT_ID
RAILWAY_DEPLOYMENT_ID=$RAILWAY_DEPLOYMENT_ID
RAILWAY_REGION=$RAILWAY_REGION
RAILWAY_PUBLIC_DOMAIN=$RAILWAY_PUBLIC_DOMAIN
RAILWAY_PRIVATE_DOMAIN=$RAILWAY_PRIVATE_DOMAIN
RAILWAY_REPLICA=$RAILWAY_REPLICA

# Optional: Custom configuration
CUSTOM_CONFIG_PATH=/app/config/custom.json
FEATURE_FLAGS=email_automation,analytics_dashboard,preference_center